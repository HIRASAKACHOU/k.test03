# 2024年 月別観光者数マップ

このプロジェクトは、2024年の月ごとの地区別観光者数を地図上に可視化します。

## 📁 ファイル構成

- `city2024.csv` - 月ごとの地区別観光者数データ（Shift_JIS）
- `city_latlon.csv` - 地区コードと座標情報のマッピング
- `generate_maps.py` - 地図生成プログラム
- `index.html` - メインページ（月選択ボタン）
- `tourist_map_month_01.html ~ 12.html` - 月別地図ページ

## 🚀 使い方

### 1. 必要なパッケージのインストール

```bash
pip install pandas folium
```

### 2. 地図の生成

```bash
python generate_maps.py
```

このコマンドを実行すると、1月から12月までの12個の地図HTMLファイルが生成されます。

### 3. 地図の表示

`index.html` をウェブブラウザで開いてください。

- 1～12月のボタンが表示されます
- ボタンをクリックすると、対応する月の地図が新しいタブで開きます

## 📊 地図の見方

### 円のサイズ
- 円の大きさは観光者数に比例しています
- 大きい円ほど観光者数が多いことを示します

### 円の色
- 🔵 **青**: 観光者数が少ない
- 🟢 **緑**: 観光者数がやや少ない
- 🟠 **橙**: 観光者数がやや多い
- 🔴 **赤**: 観光者数が多い

### インタラクション
- 円にマウスカーソルを合わせると、地区名と観光者数が表示されます
- 円をクリックすると、詳細情報がポップアップ表示されます
- 地図はドラッグで移動、スクロールでズームイン/アウトできます

## 📈 データについて

- **データ期間**: 2024年1月～12月
- **対象地区**: city_latlon.csvに登録されている54地区
- **データ項目**: 
  - 年
  - 月
  - データ区分
  - 詳細区分
  - 都道府県コード
  - 都道府県名
  - 地区コード
  - 地区名称
  - 観光者数（人）

## 🔧 カスタマイズ

### 新しい地区を追加する

`city_latlon.csv` に以下の形式で地区を追加できます：

```csv
地区コード,地区名称,緯度,経度
1234,新地区名,35.6812,139.7671
```

追加後、`generate_maps.py` を再実行してください。

### 色の変更

`generate_maps.py` の `get_color` 関数を編集することで、色のルールを変更できます。

```python
def get_color(value, max_val, min_val):
    if max_val == min_val:
        return 'blue'
    normalized = (value - min_val) / (max_val - min_val)
    if normalized < 0.25:
        return 'blue'      # ← ここを変更
    elif normalized < 0.5:
        return 'green'     # ← ここを変更
    elif normalized < 0.75:
        return 'orange'    # ← ここを変更
    else:
        return 'red'       # ← ここを変更
```

## 📝 注意事項

- CSVファイルは **Shift_JIS** エンコーディングで保存されている必要があります
- city_latlon.csvに登録されていない地区は地図に表示されません
- インターネット接続が必要です（OpenStreetMapのタイルを読み込むため）

## 🛠️ 技術スタック

- **Python 3.x**
- **Pandas**: データ処理
- **Folium**: インタラクティブ地図生成
- **HTML/CSS**: ユーザーインターフェース

## 📊 生成されるデータ例

```
1月のデータを処理中...
  ✓ tourist_map_month_01.html を生成しました
    データ数: 54件
    観光者数範囲: 513 ~ 336,336人
```

各月で以下の情報が表示されます：
- データ数（地図上のポイント数）
- 最小観光者数
- 最大観光者数

## 🌟 機能

- ✅ 月ごとの観光者数の可視化
- ✅ インタラクティブな地図操作
- ✅ カラーコーディングによる視覚的な比較
- ✅ マウスオーバーで詳細情報表示
- ✅ レスポンシブなボタンレイアウト

## 📄 ライセンス

このプロジェクトは教育目的で作成されました。
